# RabbitMQ

## MQ

消息队列，在消息传输过程中保存消息的容器，多用于分布式系统通信

![image-20210312072205562](img/image-20210312072205562.png) 

### MQ的优劣

**优势**

1. 应用解耦

   ![image-20210312072329289](img/image-20210312072329289.png)

   ![image-20210312072428898](img/image-20210312072428898.png)

2. 异步提速

   ![image-20210312072745655](img/image-20210312072745655.png)

3. 削峰填谷

   ![image-20210312073126675](img/image-20210312073126675.png)

**劣势**

1. 系统可用性降低

2. 系统复杂度上升

3. 数据一致性问题

   mq给多个系统同时发送数据，如何保证消息值消费一次

### 使用MQ的前提

1. 生产者不需要消费者的反馈，异步成了可能
2. 允许暂时的不一致性
3. 用了确实有效果，使用mq的效益大于加入mq增加的管理成本

### 常见的MQ产品

![image-20210312073953866](img/image-20210312073953866.png)

## RabbitMQ

### AMQP

![image-20210312074143859](img/image-20210312074143859.png)

![image-20210312074336127](img/image-20210312074336127.png)

![image-20210312074350979](img/image-20210312074350979.png)

![image-20210312074521872](img/image-20210312074521872.png)

![image-20210312074555870](img/image-20210312074555870.png)

![image-20210312074701083](img/image-20210312074701083.png)

## 安装

